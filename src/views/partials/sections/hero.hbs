<section id="hero" class="relative min-h-screen flex items-center justify-center overflow-hidden">
    {{!-- Background con overlay mejorado --}}
    <div class="absolute inset-0 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
        {{#if data.backgroundImage}}
        <div class="absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20" 
             style="background-image: url('{{data.backgroundImage}}');"></div>
        {{/if}}
        <div class="absolute inset-0 bg-gradient-to-r from-purple-900/80 via-blue-900/80 to-indigo-900/80"></div>
    </div>
    
    {{!-- Elementos decorativos mejorados --}}
    <div class="absolute inset-0 overflow-hidden">
        <div class="absolute top-20 left-20 w-72 h-72 bg-purple-500/20 rounded-full blur-3xl animate-pulse"></div>
        <div class="absolute bottom-20 right-20 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl animate-pulse animation-delay-2000"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500/10 rounded-full blur-3xl animate-pulse animation-delay-4000"></div>
        
        {{!-- Partículas flotantes --}}
        {{#times 15}}
        <div class="absolute w-2 h-2 bg-white/20 rounded-full animate-float" 
             style="left: {{multiply @index 7}}%; top: {{multiply @index 6}}%; animation-delay: {{multiply @index 0.3}}s;"></div>
        {{/times}}
        
        {{!-- Líneas de conexión --}}
        <svg class="absolute inset-0 w-full h-full opacity-20">
            <defs>
                <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:rgba(139,92,246,0.5);stop-opacity:1" />
                    <stop offset="100%" style="stop-color:rgba(59,130,246,0.5);stop-opacity:1" />
                </linearGradient>
            </defs>
            <line x1="10%" y1="20%" x2="90%" y2="80%" stroke="url(#lineGradient)" stroke-width="1" class="animate-draw-line"></line>
            <line x1="20%" y1="80%" x2="80%" y2="20%" stroke="url(#lineGradient)" stroke-width="1" class="animate-draw-line animation-delay-1000"></line>
        </svg>
    </div>
    
    {{!-- Contenido principal mejorado --}}
    <div class="relative z-10 text-center space-y-12 max-w-6xl mx-auto px-6">
        {{#if isMultiPage}}
        <div class="mb-8 animate-fade-in-down">
            <a href="/api/v1/client-templates/{{clientId}}/pages" 
               class="inline-flex items-center px-6 py-3 bg-white/10 backdrop-blur-sm text-white rounded-full hover:bg-white/20 transition-all duration-300 border border-white/20 hover:border-white/40 hover:scale-105">
                <i class="fas fa-arrow-left mr-2"></i>
                Volver al índice
            </a>
        </div>
        {{/if}}
        
        {{!-- Título principal mejorado --}}
        <div class="space-y-6">
            <h1 class="text-6xl lg:text-8xl xl:text-9xl font-black leading-tight animate-title">
                <span class="bg-gradient-to-r from-white via-purple-200 to-blue-200 bg-clip-text text-transparent relative">
                    {{data.title}}
                    {{!-- Efecto de brillo en el texto --}}
                    <span class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full animate-shine"></span>
                </span>
            </h1>
            
            {{!-- Subtítulo mejorado --}}
            <p class="text-xl lg:text-3xl text-gray-200 max-w-4xl mx-auto font-light leading-relaxed animate-fade-in-up">
                {{data.subtitle}}
            </p>
        </div>
        
        {{!-- Botones de llamada a la acción mejorados --}}
        {{#if data.ctaButtons}}
        <div class="flex flex-col sm:flex-row gap-6 justify-center pt-8 animate-fade-in-up animation-delay-300">
            {{#each data.ctaButtons}}
            <a href="{{href}}" 
               class="group relative inline-flex items-center px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-2xl hover:from-purple-700 hover:to-blue-700 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-2xl font-semibold text-lg overflow-hidden">
                {{!-- Efecto de brillo en hover --}}
                <span class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></span>
                <span class="relative z-10">{{text}}</span>
                <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform duration-300 relative z-10"></i>
            </a>
            {{/each}}
        </div>
        {{/if}}
        
        {{!-- Información adicional mejorada --}}
        {{#if data.features}}
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 pt-16 animate-fade-in-up animation-delay-500">
            {{#each data.features}}
            <div class="text-center space-y-4 group">
                <div class="w-16 h-16 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto group-hover:bg-white/20 transition-all duration-300 group-hover:scale-110">
                    <i class="text-2xl text-white group-hover:animate-bounce">{{icon}}</i>
                </div>
                <h3 class="text-xl font-semibold text-white group-hover:text-purple-200 transition-colors duration-300">{{title}}</h3>
                <p class="text-gray-300 group-hover:text-gray-200 transition-colors duration-300">{{description}}</p>
            </div>
            {{/each}}
        </div>
        {{/if}}
        
        {{!-- Contador de estadísticas --}}
        {{#if data.stats}}
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 pt-16 animate-fade-in-up animation-delay-700">
            {{#each data.stats}}
            <div class="text-center group">
                <div class="text-4xl font-bold text-white mb-2 counter" data-target="{{number}}">0</div>
                <div class="text-gray-300 text-sm">{{label}}</div>
            </div>
            {{/each}}
        </div>
        {{/if}}
    </div>
    
    {{!-- Scroll indicator mejorado --}}
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <div class="w-8 h-12 border-2 border-white/30 rounded-full flex justify-center relative overflow-hidden">
            <div class="w-1 h-3 bg-white/60 rounded-full mt-2 animate-pulse"></div>
            {{!-- Efecto de brillo --}}
            <div class="absolute inset-0 bg-gradient-to-b from-transparent via-white/20 to-transparent animate-scroll-glow"></div>
        </div>
    </div>
    
    {{!-- Efectos de partículas interactivas --}}
    <div class="absolute inset-0 pointer-events-none">
        {{#times 20}}
        <div class="absolute w-1 h-1 bg-white/30 rounded-full animate-particle" 
             style="left: {{multiply @index 5}}%; animation-delay: {{multiply @index 0.2}}s;"></div>
        {{/times}}
    </div>
</section>

<style>
@keyframes pulse {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.1); }
}

.animate-pulse {
    animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animation-delay-2000 {
    animation-delay: 2s;
}

.animation-delay-4000 {
    animation-delay: 4s;
}

.animation-delay-300 {
    animation-delay: 0.3s;
}

.animation-delay-500 {
    animation-delay: 0.5s;
}

.animation-delay-700 {
    animation-delay: 0.7s;
}

.animation-delay-1000 {
    animation-delay: 1s;
}

.animate-fade-in-down {
    animation: fadeInDown 1s ease-out;
}

@keyframes fadeInDown {
    from { 
        opacity: 0; 
        transform: translateY(-30px); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

.animate-title {
    animation: titleReveal 1.5s ease-out;
}

@keyframes titleReveal {
    from { 
        opacity: 0; 
        transform: translateY(50px) scale(0.8); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
    }
}

.animate-fade-in-up {
    animation: fadeInUp 1s ease-out both;
}

@keyframes fadeInUp {
    from { 
        opacity: 0; 
        transform: translateY(30px); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

.animate-shine {
    animation: shine 3s ease-in-out infinite;
}

@keyframes shine {
    0% { transform: translateX(-100%) skewX(-12deg); }
    50% { transform: translateX(100%) skewX(-12deg); }
    100% { transform: translateX(100%) skewX(-12deg); }
}

.animate-float {
    animation: float 6s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { 
        transform: translateY(0px) rotate(0deg); 
        opacity: 0.3; 
    }
    50% { 
        transform: translateY(-20px) rotate(180deg); 
        opacity: 1; 
    }
}

.animate-draw-line {
    animation: drawLine 3s ease-out infinite;
}

@keyframes drawLine {
    from { 
        stroke-dasharray: 1000; 
        stroke-dashoffset: 1000; 
    }
    to { 
        stroke-dasharray: 1000; 
        stroke-dashoffset: 0; 
    }
}

.animate-particle {
    animation: particleFloat 8s ease-in-out infinite;
}

@keyframes particleFloat {
    0%, 100% { 
        transform: translateY(0px) translateX(0px) scale(1); 
        opacity: 0; 
    }
    25% { 
        transform: translateY(-30px) translateX(10px) scale(1.2); 
        opacity: 0.5; 
    }
    50% { 
        transform: translateY(-60px) translateX(-10px) scale(0.8); 
        opacity: 1; 
    }
    75% { 
        transform: translateY(-30px) translateX(5px) scale(1.1); 
        opacity: 0.7; 
    }
}

.animate-scroll-glow {
    animation: scrollGlow 2s ease-in-out infinite;
}

@keyframes scrollGlow {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}

/* Efectos de hover mejorados */
.group:hover .group-hover\:animate-bounce {
    animation: bounce 1s infinite;
}

@keyframes bounce {
    0%, 20%, 53%, 80%, 100% { transform: translateY(0); }
    40%, 43% { transform: translateY(-10px); }
    70% { transform: translateY(-5px); }
    90% { transform: translateY(-2px); }
}

/* Responsive mejorado */
@media (max-width: 768px) {
    #hero h1 {
        font-size: 3rem;
    }
    
    #hero p {
        font-size: 1.125rem;
    }
    
    .animate-title {
        animation-duration: 1s;
    }
}

/* Efectos de cursor personalizado para elementos interactivos */
.group {
    cursor: pointer;
}

.group:hover {
    transform: translateY(-2px);
}

/* Optimizaciones de rendimiento */
@media (prefers-reduced-motion: reduce) {
    .animate-pulse,
    .animate-bounce,
    .animate-float,
    .animate-particle,
    .animate-shine,
    .animate-draw-line,
    .animate-scroll-glow {
        animation: none;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animación de contadores
    const counters = document.querySelectorAll('.counter');
    counters.forEach(counter => {
        const target = parseInt(counter.getAttribute('data-target'));
        const increment = target / 100;
        let current = 0;
        
        const updateCounter = () => {
            if (current < target) {
                current += increment;
                counter.textContent = Math.ceil(current);
                setTimeout(updateCounter, 20);
            } else {
                counter.textContent = target;
            }
        };
        
        // Iniciar animación cuando el elemento sea visible
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    updateCounter();
                    observer.unobserve(entry.target);
                }
            });
        });
        
        observer.observe(counter);
    });
    
    // Efecto de parallax para elementos de fondo
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const parallaxElements = document.querySelectorAll('.absolute.inset-0.overflow-hidden > div');
        
        parallaxElements.forEach((element, index) => {
            const speed = 0.5 + (index * 0.1);
            element.style.transform = `translateY(${scrolled * speed}px)`;
        });
    });
    
    // Efecto de partículas interactivas
    const particles = document.querySelectorAll('.animate-particle');
    particles.forEach(particle => {
        particle.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(3) rotate(360deg)';
            this.style.opacity = '1';
            this.style.background = 'white';
        });
        
        particle.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1) rotate(0deg)';
            this.style.opacity = '0.3';
            this.style.background = 'rgba(255, 255, 255, 0.3)';
        });
    });
    
    // Efecto de typing para el título
    const title = document.querySelector('#hero h1 span');
    if (title) {
        const text = title.textContent;
        title.textContent = '';
        
        let i = 0;
        const typeWriter = () => {
            if (i < text.length) {
                title.textContent += text.charAt(i);
                i++;
                setTimeout(typeWriter, 100);
            }
        };
        
        // Iniciar typing después de un delay
        setTimeout(typeWriter, 500);
    }
    
    // Efecto de scroll suave para el indicador
    const scrollIndicator = document.querySelector('.absolute.bottom-8');
    if (scrollIndicator) {
        scrollIndicator.addEventListener('click', function() {
            const nextSection = document.querySelector('main');
            if (nextSection) {
                nextSection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    }
    
    // Efecto de brillo en hover para botones
    const buttons = document.querySelectorAll('a[href]');
    buttons.forEach(button => {
        button.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 0 30px rgba(139, 92, 246, 0.5)';
        });
        
        button.addEventListener('mouseleave', function() {
            this.style.boxShadow = '';
        });
    });
});
</script>
